import re
import os
from random import randint, choice


class Device():

    # скачать отсюда https://user-agents.net/download?browser_type=application&browser=instagram-app&platform=android
    SRC_BASE = 'useragents.txt'
    #! кол-во юзерагентов (строк)
    UA_NUM = 395
    REGEXP_DEVICE = r'^.*\sInstagram\s(.*?)\sAndroid\s\((\d+)\/(.*?);\s(.*?);\s(.*?);\s(.*?);\s(.*?);\s(.*?);\s(.*?);\s(.*?);\s(.*?)\)$'
    USER_AGENT_BASE = (
        "Instagram {app_version} "
        "Android ({android_version}/{android_release}; "
        "{dpi}; {resolution}; {manufacturer}; "
        "{model}; {device}; {cpu}; {locale}; {version_code})"
    )
    # MIN_APP_VER = 140
    # MAX_APP_VER = 168

    # регулярка для сбора версий из текст файла с юа
    # ^.*Instagram\s(2.*?)\s.*;\s(\d+?)\)

    VERSIONS = [
        ('200.1.0.29.121', '310560113'),
        ('200.1.0.29.121', '310560113'),
        ('201.0.0.26.112', '311618467'),
        ('200.1.0.29.121', '310560110'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.26.112', '311618467'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.26.112', '311618464'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224441'),
        ('200.1.0.29.121', '310560073'),
        ('202.0.0.37.123', '313224452'),
        ('203.0.0.29.118', '314665256'),
        ('203.0.0.29.118', '314665256'),
        ('203.0.0.29.118', '314665255'),
        ('203.0.0.29.118', '314665256'),
        ('201.0.0.26.112', '311618467'),
        ('203.0.0.29.118', '314665256'),
        ('203.0.0.29.118', '314665256'),
        ('204.0.0.30.119', '316471305'),
        ('204.0.0.30.119', '316471305'),
        ('204.0.0.30.119', '316471305'),
        ('204.0.0.30.119', '316471305'),
        ('205.0.0.34.114', '317666432'),
        ('204.0.0.30.119', '316471303'),
        ('204.0.0.30.119', '316471305'),
        ('204.0.0.30.119', '316471305'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666433'),
        ('204.0.0.30.119', '316471303'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666426'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666432'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666425'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666433'),
        ('202.0.0.37.123', '313224452'),
        ('205.0.0.34.114', '317666433'),
        ('205.0.0.34.114', '317666433'),
        ('204.0.0.30.119', '316471296'),
        ('205.0.0.34.114', '317666425'),
        ('206.0.0.34.121', '319394065'),
        ('203.0.0.29.118', '314665256'),
        ('206.1.0.34.121', '319679539'),
        ('206.1.0.34.121', '319679539'),
        ('206.1.0.34.121', '319679539'),
        ('206.1.0.34.121', '319679539'),
        ('207.0.0.39.120', '321039152'),
        ('207.0.0.39.120', '321039152'),
        ('207.0.0.39.120', '321039152'),
        ('207.0.0.39.120', '321039152'),
        ('208.0.0.32.135', '323102559'),
        ('207.0.0.39.120', '321039152'),
        ('208.0.0.32.135', '323102562'),
        ('206.1.0.34.121', '319679527'),
        ('206.1.0.34.121', '319679539'),
        ('208.0.0.32.135', '323102559'),
        ('203.0.0.29.118', '314665255'),
        ('208.0.0.32.135', '323102559'),
        ('207.0.0.39.120', '321039149'),
        ('205.0.0.34.114', '317666432'),
        ('205.0.0.34.114', '317666433'),
        ('207.0.0.39.120', '321039152'),
        ('208.0.0.32.135', '323102559'),
        ('205.0.0.34.114', '317666425'),
        ('208.0.0.32.135', '323102551'),
        ('206.1.0.34.121', '319679525'),
        ('209.0.0.21.119', '324500962'),
        ('208.0.0.32.135', '323102559'),
        ('208.0.0.32.135', '323102559'),
        ('209.0.0.21.119', '324500962'),
        ('205.0.0.34.114', '317666433'),
        ('209.0.0.21.119', '324500958'),
        ('208.0.0.32.135', '323102559'),
        ('206.1.0.34.121', '319679539'),
        ('209.0.0.21.119', '324500962'),
        ('209.0.0.21.119', '324500938'),
        ('208.0.0.32.135', '323102559'),
        ('210.0.0.28.71', '326153497'),
        ('206.1.0.34.121', '319679539'),
        ('202.0.0.37.123', '313224441'),
        ('210.0.0.28.71', '326153497'),
        ('209.0.0.18.119', '324036252'),
        ('210.0.0.28.71', '326153497'),
        ('210.0.0.28.71', '326153497'),
        ('203.0.0.29.118', '314665243'),
        ('210.0.0.28.71', '326153497'),
        ('212.0.0.0.36', '327159865'),
        ('211.0.0.33.117', '327976424'),
        ('211.0.0.33.117', '327976425'),
        ('210.0.0.28.71', '326153416'),
        ('211.0.0.33.117', '327976425'),
        ('211.0.0.33.117', '327976412'),
        ('211.0.0.33.117', '327976424'),
        ('211.0.0.33.117', '327976425'),
        ('211.0.0.33.117', '327976425'),
        ('211.0.0.33.117', '327976425'),
        ('211.0.0.33.117', '327976425'),
        ('211.0.0.33.117', '327976421'),
        ('209.0.0.21.119', '324500962'),
        ('206.1.0.34.121', '319679539'),
        ('212.0.0.38.119', '329675761'),
        ('212.0.0.38.119', '329675761'),
        ('212.0.0.38.119', '329675761'),
        ('212.0.0.38.119', '329675728'),
        ('211.0.0.33.117', '327976421'),
        ('213.0.0.29.120', '331429254'),
        ('213.0.0.29.120', '331429254'),
        ('209.0.0.21.119', '324500962'),
        ('212.0.0.38.119', '329675761'),
        ('213.0.0.29.120', '331429254'),
        ('213.0.0.29.120', '331429253'),
        ('213.0.0.29.120', '331429247'),
        ('214.0.0.27.120', '332901678'),
        ('214.0.0.27.120', '332901678'),
        ('214.1.0.29.120', '333717253'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('212.0.0.38.119', '329675761'),
        ('214.1.0.29.120', '333717270'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('209.0.0.21.119', '324500962'),
        ('214.1.0.29.120', '333717274'),
        ('209.0.0.21.119', '324500962'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717253'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717270'),
        ('214.1.0.29.120', '333717253'),
        ('209.0.0.21.119', '324500962'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('209.0.0.21.119', '324500938'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('214.0.0.27.120', '332901678'),
        ('215.0.0.27.359', '337202351'),
        ('206.1.0.34.121', '319679539'),
        ('215.0.0.27.359', '337202359'),
        ('215.0.0.27.359', '337202351'),
        ('215.0.0.27.359', '337202359'),
        ('216.0.0.20.137', '338723481'),
        ('211.0.0.33.117', '327976412'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.27.359', '337202359'),
        ('214.0.0.27.120', '332901678'),
        ('216.1.0.21.137', '339335857'),
        ('213.0.0.29.120', '331429247'),
        ('215.0.0.27.359', '337202351'),
        ('216.1.0.21.137', '339335856'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.27.359', '337202359'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335850'),
        ('214.1.0.29.120', '333717258'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.27.359', '337202351'),
        ('216.1.0.21.137', '339335856'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.1.359', '336010029'),
        ('202.0.0.37.123', '313224451'),
        ('214.1.0.29.120', '333717270'),
        ('203.0.0.29.118', '314665243'),
        ('214.1.0.29.120', '333717267'),
        ('215.0.0.27.359', '337202359'),
        ('203.0.0.29.118', '314665256'),
        ('215.0.0.0.164', '333760205'),
        ('201.0.0.26.112', '311618448'),
        ('210.0.0.28.71', '326153497'),
        ('206.1.0.34.121', '319679539'),
        ('201.0.0.26.112', '311618467'),
        ('203.0.0.29.118', '314665257'),
        ('201.0.0.26.112', '311618467'),
        ('202.0.0.37.123', '313224441'),
        ('202.0.0.37.123', '313224441'),
        ('204.0.0.30.119', '316471305'),
        ('204.0.0.30.119', '316471305'),
        ('207.0.0.39.120', '321039129'),
        ('206.1.0.34.121', '319679539'),
        ('210.0.0.28.71', '326153497'),
        ('202.0.0.37.123', '313224451'),
        ('216.0.0.20.137', '338723482'),
        ('215.0.0.0.78', '332700192'),
        ('211.0.0.33.117', '327976424'),
        ('201.0.0.26.112', '311618448'),
        ('214.0.0.27.120', '332901635'),
        ('215.0.0.27.359', '337202359'),
        ('215.0.0.27.359', '337202361'),
        ('215.0.0.0.126', '333260610'),
        ('204.0.0.30.119', '316471305'),
        ('202.0.0.37.123', '313224452'),
        ('214.0.0.27.120', '332901635'),
        ('200.1.0.29.121', '310560113'),
        ('214.0.0.27.120', '332901678'),
        ('214.0.0.27.120', '332901678'),
        ('203.0.0.29.118', '314665243'),
        ('212.0.0.38.119', '329675761'),
        ('200.0.0.29.121', '310093309'),
        ('210.0.0.28.71', '326153416'),
        ('201.0.0.26.112', '311618467'),
        ('202.0.0.37.123', '313224441'),
        ('216.0.0.20.137', '338723475'),
        ('214.0.0.27.120', '332901678'),
        ('200.1.0.29.121', '310560113'),
        ('202.0.0.37.123', '313224451'),
        ('214.1.0.29.120', '333717253'),
        ('212.0.0.38.119', '329675761'),
        ('214.1.0.29.120', '333717274'),
        ('209.0.0.21.119', '324500938'),
        ('215.0.0.27.359', '337202351'),
        ('207.0.0.39.120', '321039152'),
        ('202.0.0.37.123', '313224451'),
        ('200.0.0.29.121', '310093309'),
        ('214.1.0.29.120', '333717270'),
        ('203.0.0.29.118', '314665255'),
        ('214.1.0.29.120', '333717270'),
        ('205.0.0.34.114', '317666425'),
        ('214.0.0.27.120', '332901635'),
        ('215.0.0.0.245', '334724968'),
        ('201.0.0.26.112', '311618467'),
        ('208.0.0.32.135', '323102558'),
        ('213.0.0.29.120', '331429254'),
        ('215.0.0.27.359', '337202359'),
        ('201.0.0.26.112', '311618464'),
        ('201.0.0.26.112', '311618467'),
        ('205.0.0.34.114', '317666433'),
        ('200.1.0.29.121', '310560110'),
        ('214.1.0.29.120', '333717274'),
        ('214.0.0.27.120', '332901678'),
        ('212.0.0.38.119', '329675728'),
        ('214.1.0.29.120', '333717274'),
        ('215.0.0.22.359', '336705190'),
        ('212.0.0.38.119', '329675761'),
        ('201.0.0.26.112', '311618467'),
        ('206.1.0.34.121', '319679539'),
        ('215.0.0.0.78', '332700192'),
        ('201.0.0.26.112', '311618448'),
        ('203.0.0.29.118', '314665256'),
        ('210.0.0.28.71', '326153497'),
        ('203.0.0.29.118', '314665256'),
        ('204.0.0.30.119', '316471305'),
        ('214.0.0.27.120', '332901672'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.27.359', '337202339'),
        ('216.0.0.20.137', '338723482'),
        ('215.0.0.27.359', '337202359'),
        ('214.0.0.27.120', '332901678'),
        ('214.0.0.27.120', '332901672'),
        ('203.0.0.29.118', '314665256'),
        ('200.1.0.29.121', '310560110'),
        ('201.0.0.23.112', '311109165'),
        ('213.0.0.29.120', '331429253'),
        ('212.0.0.38.119', '329675761'),
        ('215.0.0.27.359', '337202359'),
        ('212.0.0.38.119', '329675728'),
        ('200.1.0.29.121', '310560073'),
        ('204.0.0.30.119', '316471303'),
        ('202.0.0.37.123', '313224452'),
        ('214.1.0.29.120', '333717274'),
        ('210.0.0.28.71', '326153497'),
        ('210.0.0.28.71', '326153497'),
        ('214.1.0.29.120', '333717253'),
        ('202.0.0.37.123', '313224452'),
        ('215.0.0.27.359', '337202359'),
        ('212.0.0.38.119', '329675755'),
        ('200.1.0.29.121', '310560113'),
        ('211.0.0.33.117', '327976424'),
        ('201.0.0.26.112', '311618467'),
        ('204.0.0.30.119', '316471303'),
        ('215.0.0.27.359', '337202351'),
        ('204.0.0.30.119', '316471305'),
        ('201.0.0.26.112', '311618467'),
        ('211.0.0.33.117', '327976424'),
        ('202.0.0.37.123', '313224452'),
        ('208.0.0.32.135', '323102558'),
        ('215.0.0.27.359', '337202336'),
        ('214.1.0.29.120', '333717270'),
        ('209.0.0.21.119', '324500962'),
        ('210.0.0.28.71', '326153491'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717274'),
        ('208.0.0.32.135', '323102556'),
        ('215.0.0.27.359', '337202359'),
        ('202.0.0.37.123', '313224451'),
        ('202.0.0.37.123', '313224451'),
        ('214.1.0.29.120', '333717253'),
        ('201.0.0.26.112', '311618467'),
        ('214.0.0.27.120', '332901672'),
        ('212.0.0.38.119', '329675761'),
        ('202.0.0.37.123', '313224452'),
        ('212.0.0.38.119', '329675728'),
        ('206.1.0.34.121', '319679539'),
        ('204.0.0.30.119', '316471305'),
        ('211.0.0.33.117', '327976412'),
        ('214.0.0.27.120', '332901685'),
        ('212.0.0.38.119', '329675761'),
        ('203.0.0.29.118', '314665256'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717274'),
        ('206.1.0.34.121', '319679539'),
        ('201.0.0.26.112', '311618467'),
        ('214.1.0.29.120', '333717274'),
        ('214.0.0.27.120', '332901678'),
        ('215.0.0.27.359', '337202359'),
        ('206.1.0.34.121', '319679539'),
        ('216.0.0.20.137', '338723481'),
        ('214.1.0.29.120', '333717274'),
        ('211.0.0.33.117', '327976412'),
        ('202.0.0.37.123', '313224451'),
        ('210.0.0.28.71', '326153491'),
        ('215.0.0.27.359', '337202359'),
        ('214.0.0.27.120', '332901635'),
        ('200.0.0.29.121', '310093309'),
        ('203.0.0.29.118', '314665243'),
        ('214.0.0.27.120', '332901642'),
        ('206.1.0.34.121', '319679539'),
        ('209.0.0.21.119', '324500958'),
        ('203.0.0.29.118', '314665243'),
        ('212.0.0.38.119', '329675731'),
        ('207.0.0.39.120', '321039149'),
        ('207.0.0.39.120', '321039152'),
        ('214.0.0.27.120', '332901642'),
        ('202.0.0.37.123', '313224441'),
        ('200.1.0.29.121', '310560082'),
        ('214.1.0.29.120', '333717270'),
        ('214.1.0.29.120', '333717274'),
        ('206.1.0.34.121', '319679536'),
        ('201.0.0.26.112', '311618467'),
        ('202.0.0.37.123', '313224451'),
        ('204.0.0.30.119', '316471305'),
        ('214.1.0.29.120', '333717274'),
        ('211.0.0.33.117', '327976425'),
        ('203.0.0.29.118', '314665256'),
        ('201.0.0.26.112', '311618464'),
        ('203.0.0.29.118', '314665256'),
        ('204.0.0.30.119', '316471296'),
        ('201.0.0.26.112', '311618467'),
        ('210.0.0.28.71', '326153497'),
        ('203.0.0.29.118', '314665243'),
        ('210.0.0.28.71', '326153491'),
        ('214.0.0.27.120', '332901672'),
        ('206.1.0.34.121', '319679539'),
        ('215.0.0.27.359', '337202359'),
        ('216.0.0.20.137', '338723482'),
        ('216.0.0.20.137', '338723482'),
        ('200.1.0.29.121', '310560113'),
        ('200.1.0.29.121', '310560113'),
        ('202.0.0.37.123', '313224452'),
        ('203.0.0.29.118', '314665256'),
        ('215.0.0.27.359', '337202359'),
        ('210.0.0.28.71', '326153416'),
        ('202.0.0.37.123', '313224451'),
        ('200.1.0.29.121', '310560113'),
        ('215.0.0.27.359', '337202361'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('216.1.0.21.137', '339335857'),
        ('205.0.0.0.56', '315749339'),
        ('210.0.0.28.71', '326153491'),
        ('210.0.0.28.71', '326153497'),
        ('215.0.0.27.359', '337202359'),
        ('213.0.0.29.120', '331429254'),
        ('200.0.0.29.121', '310093309'),
        ('212.0.0.38.119', '329675761'),
        ('214.0.0.27.120', '332901635'),
        ('209.0.0.21.119', '324500938'),
        ('214.1.0.29.120', '333717270'),
        ('200.0.0.29.121', '310093304'),
        ('202.0.0.37.123', '313224452'),
        ('206.1.0.34.121', '319679539'),
        ('206.1.0.34.121', '319679539'),
        ('205.0.0.34.114', '317666433'),
        ('214.1.0.29.120', '333717274'),
        ('206.1.0.34.121', '319679527'),
        ('204.0.0.30.119', '316471305'),
        ('200.1.0.29.121', '310560113'),
        ('216.0.0.20.137', '338723481'),
        ('200.1.0.29.121', '310560082'),
        ('214.1.0.29.120', '333717274'),
        ('200.1.0.29.121', '310560073'),
        ('213.0.0.29.120', '331429254'),
        ('202.0.0.37.123', '313224452'),
        ('214.1.0.29.120', '333717270'),
        ('215.0.0.27.359', '337202359'),
        ('209.0.0.21.119', '324500958'),
        ('203.0.0.29.118', '314665256'),
        ('206.1.0.34.121', '319679536'),
        ('214.1.0.29.120', '333717270'),
        ('201.0.0.26.112', '311618467'),
        ('207.0.0.39.120', '321039129'),
        ('216.1.0.21.137', '339335856'),
        ('200.1.0.29.121', '310560113'),
        ('211.0.0.33.117', '327976412'),
        ('210.0.0.28.71', '326153416'),
        ('201.0.0.26.112', '311618464'),
        ('200.1.0.29.121', '310560113'),
        ('216.0.0.20.137', '338723482'),
        ('214.1.0.29.120', '333717277'),
        ('214.0.0.27.120', '332901678'),
        ('203.0.0.29.118', '314665256'),
        ('214.0.0.27.120', '332901678'),
        ('203.0.0.29.118', '314665256'),
        ('214.1.0.29.120', '333717270'),
        ('211.0.0.33.117', '327976424'),
        ('206.1.0.34.121', '319679536'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717270'),
        ('214.0.0.27.120', '332901635'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717270'),
        ('210.0.0.28.71', '326153497'),
        ('207.0.0.39.120', '321039129'),
        ('215.0.0.27.359', '337202339'),
        ('214.1.0.29.120', '333717274'),
        ('215.0.0.27.359', '337202351'),
        ('205.0.0.34.114', '317666432'),
        ('212.0.0.38.119', '329675735'),
        ('214.1.0.29.120', '333717274'),
        ('200.0.0.0.86', '308272597'),
        ('212.0.0.38.119', '329675728'),
        ('201.0.0.26.112', '311618448'),
        ('216.1.0.21.137', '339335856'),
        ('216.1.0.21.137', '339335857'),
        ('216.1.0.21.137', '339335857'),
        ('212.0.0.38.119', '329675728'),
        ('200.0.0.29.121', '310093309'),
        ('214.1.0.29.120', '333717270'),
        ('211.0.0.33.117', '327976425'),
        ('200.1.0.29.121', '310560073'),
        ('215.0.0.27.359', '337202359'),
        ('214.0.0.27.120', '332901678'),
        ('214.0.0.27.120', '332901635'),
        ('201.0.0.26.112', '311618467'),
        ('209.0.0.21.119', '324500962'),
        ('214.1.0.29.120', '333717274'),
        ('203.0.0.29.118', '314665256'),
        ('214.0.0.27.120', '332901635'),
        ('211.0.0.33.117', '327976424'),
        ('208.0.0.32.135', '323102559'),
        ('201.0.0.26.112', '311618467'),
        ('204.0.0.30.119', '316471303'),
        ('214.1.0.29.120', '333717270'),
        ('215.0.0.27.359', '337202359'),
        ('202.0.0.37.123', '313224452'),
        ('214.0.0.27.120', '332901678'),
        ('205.0.0.34.114', '317666425'),
        ('201.0.0.26.112', '311618467'),
        ('203.0.0.29.118', '314665256'),
        ('215.0.0.0.245', '334724910'),
        ('202.0.0.37.123', '313224441'),
        ('215.0.0.27.359', '337202351'),
        ('200.1.0.29.121', '310560113'),
        ('203.0.0.29.118', '314665256'),
        ('203.0.0.29.118', '314665256'),
        ('201.0.0.26.112', '311618448'),
        ('206.1.0.34.121', '319679539'),
        ('215.0.0.27.359', '337202339'),
        ('213.0.0.29.120', '331429254'),
        ('201.0.0.26.112', '311618467'),
        ('216.1.0.21.137', '339335857'),
        ('215.0.0.27.359', '337202359'),
        ('215.0.0.27.359', '337202359'),
        ('211.0.0.33.117', '327976412'),
        ('214.1.0.29.120', '333717270'),
        ('202.0.0.37.123', '313224452'),
        ('215.0.0.27.359', '337202359'),
        ('213.0.0.29.120', '331429254'),
        ('214.0.0.27.120', '332901678'),
        ('201.0.0.26.112', '311618467'),
        ('214.0.0.27.120', '332901635'),
        ('202.0.0.37.123', '313224451'),
        ('215.0.0.27.359', '337202361'),
        ('214.1.0.29.120', '333717253'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.26.112', '311618451'),
        ('205.0.0.34.114', '317666433'),
        ('208.0.0.32.135', '323102551'),
        ('215.0.0.27.359', '337202359'),
        ('203.0.0.29.118', '314665256'),
        ('216.0.0.20.137', '338723481'),
        ('214.0.0.27.120', '332901678'),
        ('200.1.0.29.121', '310560110'),
        ('206.1.0.34.121', '319679539'),
        ('203.0.0.29.118', '314665256'),
        ('214.1.0.29.120', '333717253'),
        ('214.1.0.29.120', '333717274'),
        ('202.0.0.37.123', '313224453'),
        ('215.0.0.27.359', '337202336'),
        ('212.0.0.38.119', '329675755'),
        ('214.0.0.27.120', '332901685'),
        ('206.1.0.34.121', '319679525'),
        ('200.1.0.29.121', '310560113'),
        ('214.1.0.29.120', '333717274'),
        ('202.0.0.30.123', '312879814'),
        ('216.1.0.21.137', '339335857'),
        ('212.0.0.38.119', '329675761'),
        ('208.0.0.32.135', '323102558'),
        ('215.0.0.27.359', '337202359'),
        ('215.0.0.27.359', '337202359'),
        ('214.1.0.29.120', '333717274'),
        ('209.0.0.21.119', '324500962'),
        ('215.0.0.27.359', '337202359'),
        ('210.0.0.28.71', '326153416'),
        ('201.0.0.26.112', '311618467'),
        ('200.1.0.29.121', '310560113'),
        ('200.1.0.29.121', '310560110'),
        ('203.0.0.29.118', '314665255'),
        ('211.0.0.33.117', '327976424'),
        ('201.0.0.26.112', '311618467'),
        ('200.1.0.29.121', '310560113'),
        ('209.0.0.21.119', '324500962'),
        ('202.0.0.37.123', '313224451'),
        ('216.1.0.21.137', '339335856'),
        ('201.0.0.26.112', '311618467'),
        ('202.0.0.37.123', '313224451'),
        ('202.0.0.37.123', '313224451'),
        ('214.0.0.27.120', '332901635'),
        ('212.0.0.38.119', '329675764'),
        ('212.0.0.38.119', '329675728'),
        ('202.0.0.37.123', '313224452'),
        ('202.0.0.37.123', '313224452'),
        ('200.1.0.29.121', '310560113'),
        ('203.0.0.29.118', '314665243'),
        ('201.0.0.26.112', '311618467'),
        ('200.1.0.29.121', '310560082'),
        ('203.0.0.29.118', '314665243'),
        ('207.0.0.39.120', '321039129'),
        ('214.0.0.27.120', '332901635'),
        ('215.0.0.27.359', '337202351'),
        ('205.0.0.34.114', '317666433'),
        ('210.0.0.28.71', '326153491'),
        ('211.0.0.33.117', '327976412'),
        ('214.1.0.29.120', '333717274'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.2.112', '310316847'),
        ('200.0.0.29.121', '310093309'),
        ('203.0.0.29.118', '314665256'),
        ('201.0.0.26.112', '311618467'),
        ('215.0.0.23.359', '336891925'),
        ('202.0.0.37.123', '313224451'),
        ('207.0.0.39.120', '321039149'),
        ('214.0.0.27.120', '332901678'),
        ('200.1.0.29.121', '310560113'),
        ('210.0.0.28.71', '326153491'),
        ('201.0.0.26.112', '311618467'),
        ('203.0.0.29.118', '314665243'),
        ('209.0.0.21.119', '324500962'),
        ('209.0.0.21.119', '324500962'),
        ('207.0.0.39.120', '321039149'),
        ('210.0.0.28.71', '326153416'),
        ('201.0.0.26.112', '311618467'),
        ('201.0.0.26.112', '311618464'),
        ('200.1.0.29.121', '310560113'),
        ('214.1.0.29.120', '333717274'),
        ('200.0.0.29.121', '310093287'),
        ('214.1.0.29.120', '333717274'),
        ('200.0.0.29.121', '310093304'),
        ('215.0.0.27.359', '337202359'),
        ('207.0.0.39.120', '321039129'),
        ('208.0.0.32.135', '323102559'),
        ('214.1.0.29.120', '333717274'),
        ('214.1.0.29.120', '333717274'),
        ('215.0.0.27.359', '337202351'),
        ('205.0.0.34.114', '317666432'),
        ('202.0.0.37.123', '313224452'),
        ('216.1.0.21.137', '339335857'),
        ('203.0.0.29.118', '314665256'),
        ('214.1.0.29.120', '333717253'),
        ('202.0.0.37.123', '313224451'),
        ('200.0.0.29.121', '310093309'),
        ('215.0.0.27.359', '337202351'),
        ('213.0.0.29.120', '331429254'),
        ('214.0.0.27.120', '332901672'),
        ('208.0.0.32.135', '323102558'),
        ('212.0.0.38.119', '329675761'),
        ('214.1.0.29.120', '333717274'),
        ('213.0.0.29.120', '331429247'),
        ('212.0.0.38.119', '329675761'),
        ('207.0.0.39.120', '321039152'),
        ('202.0.0.0.78', '311257578'),
        ('216.1.0.21.137', '339335857'),
        ('217.0.0.15.474', '343997940'),
        ('218.0.0.19.108', '345526713'),
        ('216.1.0.21.137', '339335850'),
        ('217.0.0.15.474', '343997930'),
        ('218.0.0.19.108', '345526713'),
        ('206.1.0.34.121', '319679539'),
        ('218.0.0.19.108', '345526712'),
        ('219.0.0.12.117', '346138354'),
        ('219.0.0.12.117', '346138354'),
        ('219.0.0.12.117', '346138362'),
        ('219.0.0.12.117', '346138354'),
        ('219.0.0.12.117', '346138354'),
        ('219.0.0.12.117', '346138354'),
        ('220.0.0.16.115', '348183241'),
        ('205.0.0.34.114', '317666422'),
        ('220.0.0.16.115', '348183242'),
        ('220.0.0.16.115', '348183233'),
        ('223.0.0.0.34', '350601186'),
        ('214.0.0.27.120', '332901635'),
        ('221.0.0.16.118', '349474608'),
        ('213.0.0.29.120', '331429247'),
        ('222.0.0.15.114', '350971657'),
        ('222.0.0.15.114', '350971657'),
        ('200.1.0.29.121', '310560113'),
        ('219.0.0.12.117', '346138354'),
        ('219.0.0.12.117', '346138354'),
        ('216.1.0.21.137', '339335850'),
        ('216.1.0.21.137', '339335850'),
        ('223.1.0.14.103', '352895583'),
        ('218.0.0.19.108', '345526701'),
        ('223.1.0.14.103', '352895594'),
        ('220.0.0.16.115', '348183242'),
        ('223.1.0.14.103', '352895594'),
        ('206.1.0.34.121', '319679539'),
        ('224.0.0.20.116', '353744269'),
        ('224.0.0.20.116', '353744264')
    ]

    def __init__(self):
        self.path_src_base = os.path.dirname(os.path.abspath(os.path.join(__file__))) + '/' + Device.SRC_BASE
        self.regexp = re.compile(Device.REGEXP_DEVICE)

    def get_random(self):
        """ Возвращает словарь с данными случайного устройства с Инстаграмом
        """
        while True:
            with open(self.path_src_base, 'r', encoding='utf8') as src_file:

                for _ in range(randint(1, Device.UA_NUM)):
                    src_file.readline()

                line = src_file.readline()
                device = self.regexp.findall(line)

                if device == []:
                    continue

                # new_app_version = device[0][0].split('.')
                # new_app_version[0] = str(randint(Device.MIN_APP_VER, Device.MAX_APP_VER))
                # app_version = '.'.join(new_app_version)

                # app_version = choice(Device.VERSIONS)

                device_settings = {
                    # "app_version": app_version[0],
                    "app_version": device[0][0],
                    "android_version": device[0][1],
                    "android_release": device[0][2],
                    "dpi": device[0][3],
                    "resolution": device[0][4],
                    "manufacturer": device[0][5],
                    "device": device[0][6],
                    "model": device[0][7],
                    "cpu": device[0][8],
                    "locale": "en_US",
                    # "version_code": app_version[1],
                    "version_code": device[0][10],
                }

                return {
                    "device_settings": device_settings,
                    "user_agent": Device.USER_AGENT_BASE.format(
                        **device_settings
                    )}

if __name__ == '__main__':
    d = Device()
    print(d.get_random())
